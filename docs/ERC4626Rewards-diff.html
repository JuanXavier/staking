<!DOCTYPE html>
<!-- ExamDiff Pro HTML Template Version: 2.0 -->
<!-- Copyright (C) 1997-2023 PrestoSoft LLC -->
<!-- Generated by ExamDiff Pro build 14.0.0.7 -->
<!-- saved from url=(0014)about:internet -->
<html>

<head>
    <title>ExamDiff Pro Diff Report</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,700" rel="stylesheet">
    <style type="text/css">
        /* Test element for CSS calc() function*/
        #css3-calc {
            width: 10px;
            width: calc(10px + 10px);
            display: none;
        }

        html {
            background-color: #FFFFFF;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #FFFFFF;
            color: #000000;
            font-family: Consolas, monospace;
            font-size: 11px;
            font-style: normal;
            font-weight: 400;
        }

        table td, table th {
            padding: 0;
        }

        .error {
            font-size: 24px;
            margin: 20px;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
        }

        #container {
            width: 100% - 20px);
            padding: 10px;
            border-radius: 5px;
            -moz-border-radius: 5px;
            -webkit-border-radius: 5px;
            -khtml-border-radius: 5px;
        }

        .pane {
            float: left;
            margin: 10px 0 10px 10px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
        }

        #navigation {
            width: 100%;
            table-layout: fixed;
            border-spacing: 0;
        }

        #currentDiff {
            width: calc(100% - 20px);
            margin: 0 10px;
            font-family: 'Roboto', sans-serif;
        }

        #diff-select {
            padding: 4px 0;
            border-radius: 3px;
            margin-left: 10px;
            box-shadow: 0 1px 4px rgba(0, 0, 0, .6);
        }

        .title {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #454545;
            font-size: 13px;
            font-weight: 700;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            padding: 6px;
            position: relative;
            z-index: 1;
            margin-bottom: 4px;
            box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.5);
        }

        .file {
            overflow: auto;
            position: relative;
            z-index: 0;
        }

        .panes {
            border-spacing: 0;
            border-collapse: collapse;
        }

        .content {
            width: 100%;
        }

            .content div {
                min-width: 100%;
            }

        .header {
            background-color: #F0F0F0;
            height: 17px;
            border-bottom: 1px solid #999;
            color: #444;
        }

        .diffBar {
            vertical-align: top;
            width: 6px;
            min-width: 6px;
            background-color: #eee;
        }

        .diffs {
            position: relative;
        }

        .diff {
            position: absolute;
            left: -3px;
            min-width: 9px;
            background-color: #C0C0C0;
        }

            .diff.active {
                background-color: yellow;
                z-index: 1;
            }

        .nums {
            float: left;
        }

        .num {
            display: block;
            height: 13px;
            text-align: right;
            padding-left: 2px;
            padding-right: 4px;
            border-right: 0 !important;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -webkit-transform: translateZ(0);
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        #legend {
            height: 13px;
            clear: both;
            padding-top: 3px;
            padding-bottom: 15px;
            font-family: 'Roboto', sans-serif;
        }

            #legend #numDiffs {
                float: left;
                margin-left: 3px;
            }

            #legend #colors {
                float: right;
                margin-left: 1em;
            }

                #legend #colors div {
                    float: left;
                    margin-right: 1em;
                    padding: 5px 8px;
                    border-radius: 15px;
                }

                    #legend #colors div:last-child {
                        margin-right: 0;
                    }

        #inspector {
            clear: both;
            margin: 5px 0 10px 0;
            position: relative;
            top: 2px;
            overflow: auto;
            box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
            overflow-y: hidden;
        }

            #inspector .content div {
                width: 100%;
            }

            #inspector .lib, #inspector .lab, #inspector .ldb, #inspector .lcb, #inspector .lnb, #inspector .lob, #inspector .lgb {
                border: 0;
            }

        .inspectorLine {
            border-spacing: 0 1px;
        }

        #inspectorLeft {
            border-bottom: 1px dotted #444;
        }

        #generated_by {
            text-align: right;
            font-size: 0.7rem;
            font-family: Arial;
            color: #888;
            padding-top: 1px;
        }

            #generated_by a {
                color: #888;
            }

        .li, .la, .ld, .lc, .ln, .lo, .lg, .lh {
            position: relative;
            height: 13px;
            line-height: 13px;
            box-sizing: border-box;
            white-space:pre;;
        }

        .lib, .lab, .ldb, .lcb, .lnb, .lob, .lgb {
            position: absolute;
            bottom: 0px;
            height: 1px;
            border-bottom: 1px solid #989898;
        }

        .lbin {
            white-space: pre;
            color: #000000;
            background-color: #FFFFFF;
            height: 13px;
        }

        .li, .si {
            color: #000000;
            background-color: #FFFFFF;
            text-decoration: none;
        }

        .la, .sa {
            color: #880E4F;
            background-color: #BDBDBD;
            text-decoration: none;
        }

        .ld, .sd {
            color: #0126F8;
            background-color: #E0E0E0;
            text-decoration: none;
        }

        .lc, .sc {
            color: #004D40;
            background-color: #FFF9C4;
            text-decoration: none;
        }

        .ln, .sn {
            color: #9C27B0;
            background-color: #B3E5FC;
            text-decoration: none;
        }

        .lo, .so {
            color: #D32F2F;
            background-color: #C8E6C9;
            text-decoration: none;
        }

        .lg, .sig {
            color: #2E7D32;
            background-color: #EEEEEE;
            text-decoration: none;
        }

        .sc2 {
            color: #E040FB;
            background-color: #B3E5FC;
            text-decoration: none;
        }

        .lh {
            font-weight: 700;
            color: $GROUP_COLOR$;
            display: inline-block;
            position: relative;
            white-space: nowrap;
        }

            .lh:before {
                position: absolute;
                display: block;
                top: 0;
                left: 0;
                bottom: 0;
                content: attr(data-content);
                background-color: #FFFFFF;
                color: #FFFFFF;
                z-index: -1;
                padding-right: .5em;
            }

            .lh:after {
                position: absolute;
                content: '';
                display: block;
                left: 0;
                right: 0;
                top: 50%;
                background-color: $GROUP_COLOR$;
                height: 1px;
                min-height: 1px;
                z-index: -2;
            }

        .directory .content div {
            padding-left: 3px;
            box-sizing: border-box;
        }

        .directory .content span {
            margin-right: 3px;
        }

        .directory .l {
            width: 1332px;
        }

        /* ==========  Select Field ========== */

        /* Style Select Field */
        select {
            font-family: inherit;
            background-color: transparent;
            width: 100%;
            padding: 4px 0;
            font-size: 12px;
            color: #000000;
            border: none;
            border-bottom: 1px solid rgba(0, 0, 0, 0.12);
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA4UlEQVQ4T82TSwrCQBBEq5P7OEIynsFTqCAqHkH84AfUK4iJ4j1cunImYOJ1NC0GE9TEuMgmsxyoV1RXN6Hgo4J6lARQsWttBuRVn/sA+E8soyrlBiGdLt75EEUQUk7AmDGH28DzejkQQ9jSAdBi8CjQepnMIIYQwbko1c2ApMRP848hviBTIrhfEENYlgsymrFzHDPVgrDkGIQZwDtf687TJBEThoFSq/cZZdYoLDkCYY7wvmfTNInR4AxxKsI7+QVZRH+Mge+pdVY7uYskbPsIopuvVP1XtSXZxCIHVTjCA1kmWxGf+pdLAAAAAElFTkSuQmCC);
            background-repeat: no-repeat;
            background-position: right center;
        }

            select::-ms-expand {
                display: none;
            }

            select:hover {
                box-shadow: inset 0 -2px black;
                transition: all ease-in-out 50ms;
            }

            /* Remove focus */
            select:focus {
                outline: none;
            }

        .button {
            width: 32px;
            padding: 3px;
        }

        #tdBtnFirst {
            padding-left: 0;
        }

        .button button {
            width: 100%;
            position: relative;
            display: block;
            padding: 0;
            overflow: hidden;
            border-width: 0;
            outline: none;
            border-radius: 2px;
            box-shadow: 0 1px 4px rgba(0, 0, 0, .6);
            height: 25px;
            background-color: #EEE;
            background-repeat: no-repeat;
            background-position: center;
            color: #444;
            cursor: pointer;
            transition: background-color .3s;
        }

            .button button:hover {
                background-color: #BBB;
            }

            .button button > * {
                position: relative;
            }

            .button button span {
                display: block;
                padding: 12px 24px;
            }

            .button button:before {
                content: "";
                position: absolute;
                top: 50%;
                left: 50%;
                display: block;
                width: 0;
                padding-top: 0;
                border-radius: 100%;
                background-color: rgba(236, 240, 241, .3);
                -webkit-transform: translate(-50%, -50%);
                -moz-transform: translate(-50%, -50%);
                -ms-transform: translate(-50%, -50%);
                -o-transform: translate(-50%, -50%);
                transform: translate(-50%, -50%);
            }

            .button button:active:before {
                width: 120%;
                padding-top: 120%;
                transition: width .2s ease-out, padding-top .2s ease-out;
            }

        /* Navigation button arrows */
        #btnFirst {
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2klEQVQ4T6XTOU4DQRBG4c8RKVwCDsByCEjAuQlZHCOuQYBYRIqvYLAhs7kI4ggmgQiV1COV0MxoYDps6b36u6p6oOcZ9OS1CTbwgAu8p0JjrOEq7poEAb9iG484LoKAb/CFrRDXCQJ+wQ4WOMAnMnyIWV2C9VK5E/xb8Gc4CwKO2LtdYufJVT0IwRx7/xWENEuW2C/NO8ctvhHNe65LUN01Sc5wVyRHeKqAujFmyVtJskKWDDFtW6QsmWBUKp7iviTZbFqk/JyIfYmP9O6TssrXbQk6/7Hev/EHnWxAEQGOq7sAAAAASUVORK5CYII=);
        }

        #btnPrevious {
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAkElEQVQ4T7XTyQ3CMBRF0ZNWSDVQDwQ6YCgiEqUA3cCSYY0sYSlCcmwT4bXv9ZPf/42Jp5nIKxVscEX//WCJIMBb3NHiNpTkBBF+Yo5LTYI1dkjCQZZK0GGfg1OCFQ4l8N8EQTxMscA5NS9jLRRJcjVGyQshyammxng3Sh6Y1Q5SlCw/4PGXBKP7lvuD7LK+AZL8IhHkloozAAAAAElFTkSuQmCC);
        }

        #btnNext {
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAjklEQVQ4T7XTuQ0CMRCF4W9DQIKQdjg6IaAAoAyOYoBy6AWtRGAhjwdY4djz+x3jzsDTDZwXAbaY4pg9UAPM8cAEB5xakEjBAneMM0grgxKyx7mmJAuxhOxweYdkgP5+E/J3wPIV5ghfW1jhhnC49xdZWOOaDUeAcpGqsssmIgUbzGq1/VJj8zt8UmMT8ASLkBYRatHp6AAAAABJRU5ErkJggg==);
        }

        #btnLast {
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVQ4T6XTO06CYRCF4YcCqWQLug2094YL0N5La+EiTNwBoqVWop0uQdyBrgJcgZnkIxnxI0D+qee8M5lzpqVhtRrqZcA1fjBI0G3c4hyT2rAZYAtf6OAyQR5xik/s1yB5g0O8YiNBNvGG3UWQ+Rsc4WUdSO2IfYxWhSxy4RjPq0CaAPYwrQHy9AvcoVuOuYNxcWQats4Dsji8HxbxO3r4wEFMnmUiA7L4DPfLxHmDCNI32iV1IY56wkmZHEGKpP6pvMFVaXhIHQG+KcH6J67dYO3favyNv9m0OhE4k2c+AAAAAElFTkSuQmCC);
        }

        .s1-90{color:#0000FF;background-color:#FFFFFF;}
.s1-89{color:#008000;background-color:#FFFFFF;}
.s1-86{color:#0000FF;background-color:#FFFFFF;}
.s1-88{color:#000000;background-color:#FFFFFF;}
.s1-87{color:#000000;background-color:#FFFFFF;}
.s1-85{color:#A31515;background-color:#FFFFFF;}
.s1-100{color:#ACA899;background-color:#FFFFFF;}
.s2-90{color:#0000FF;background-color:#FFFFFF;}
.s2-89{color:#008000;background-color:#FFFFFF;}
.s2-86{color:#0000FF;background-color:#FFFFFF;}
.s2-88{color:#000000;background-color:#FFFFFF;}
.s2-87{color:#000000;background-color:#FFFFFF;}
.s2-85{color:#A31515;background-color:#FFFFFF;}
.s2-100{color:#ACA899;background-color:#FFFFFF;}
.num{color:#808080;background-color:#F8F8F8;border-right-width:2px;border-right-style:groove;border-right-color:#E0E0E0;}

    </style>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
        
    </script>

    <script type="text/javascript">
        var $mode = 'text';
        var $orientation = 'vertical';
        var $useLineInspector = true;
        var $lineHeight = 13;
        var $lineWidth = 1332
        var $scrollTimeout;
        var $diffs = [
null,
{d:'Diff 1: Change 9 lines (4 - 12, first file) to 7 lines (4 - 10, second file)',l:[3,12]},
{d:'Diff 2: Delete 2 lines (37 - 38, first file) after line 34 (second file)',l:[37,38]},
{d:'Diff 3: Change 1 line (42, first file) to 1 line (38, second file)',l:[42,42]},
{d:'Diff 4: Delete 1 line (94, first file) after line 89 (second file)',l:[94,94]},
{d:'Diff 5: Delete 1 line (119, first file) after line 112 (second file)',l:[119,119]}
];

        try {
            $(document).ready(function () {
                // Check css calc() support. We'll use it to reject older browsers.
                $('body').append('<div id="css3-calc"></div>');
                if ($('#css3-calc').width() == 10) {
                    $('body').empty().append('<div class="error">This browser does not support ExamDiff Pro HTML diff reports. Please upgrade your browser to the latest Firefox, Chrome, Microsoft Edge, or Internet Explorer.</div>');
                } else {
                    $('#css3-calc').remove(); // Remove the test element

                    $(window).bind('load resize', fitToWindow);

                    populateDiffs();
                    registerEventHandlers();

                    if ($useLineInspector) {
                        $('#inspector').show();
                        setLineInspector(0);
                    }

                    $(window).load(function () {
                        firstDiff();
                    });
                }
            });
        } catch (e) {
            $('body').empty().append('<div class="error">This HTML diff report did not load correctly, most likely due to lack of an Internet connection.\n\nIf you wish for ExamDiff Pro diff reports to be viewed on computers without Internet access, make sure to check the "Enable offline report viewing" option under Options | HTML.</div>');
        }

        function getCssValue(obj, name) {
            return parseInt(obj.css(name), 10);
        }

        function fitToWindow() {
            var containerPaddingTop = getCssValue($('#container'), 'padding-top');
            var containerPaddingBottom = getCssValue($('#container'), 'padding-bottom');
            var paneMarginTop = getCssValue($('.pane'), 'margin-top');
            var paneMarginBottom = getCssValue($('.pane'), 'margin-bottom');

            var panesHeight = $(window).height() - containerPaddingTop - containerPaddingBottom - $('#navigation').outerHeight(true) - $('#legend').outerHeight(true) - $('#generated_by').outerHeight(true);
            if ($useLineInspector) {
                panesHeight -= $('#inspector').outerHeight(true);
            }

            var fileHeight;
            if ($orientation == 'vertical') {
                fileHeight = panesHeight - $('.title').outerHeight(true) - paneMarginTop - paneMarginBottom;
            } else {
                fileHeight = (panesHeight - 2 * $('.title').outerHeight(true) - paneMarginTop - 2 * paneMarginBottom) / 2;
            }

            $('.file').height(fileHeight);

            if ($orientation == 'vertical') {
                // 5px is half of getCssValue($('.pane'), 'margin-left');
                $('.pane').css('width', 'calc(50% - 5px)');
                $('#pane1').css('margin-left', '0');
            } else {
                $('.pane').css('width', '100%').css('margin-left', '0');
                $('#pane2').css('margin-top', '0');
            }
        }

        function populateDiffs() {
            if ($diffs.length > 1) {
                for (var i = 1; i < $diffs.length; i++) {
                    $('#currentDiff').append($('<option></option>').attr('value', i).text($diffs[i].d));
                    $('.diffs').append($('<div class="diff"></div>')
                        .attr('title', $diffs[i].d)
                        .css('top', ($diffs[i].l[0] * $lineHeight) + 'px')
                        .height((($diffs[i].l[1] - $diffs[i].l[0] + 1) * $lineHeight)));
                    $('.d' + i).attr('title', $diffs[i].d);
                }

                if ($mode == 'directory') {
                    var headerHeight = $('.header').outerHeight(true);
                    $('.diffs').css('margin-top', headerHeight + 'px');
                }

                $('.diffBar').show();
            } else {
                $('#currentDiff').append($('<option></option>').attr('value', 0).text('(No differences)'));
            }
        }

        function registerEventHandlers() {
            $('#currentDiff').bind('change keyup', function () {
                goto(currentDiff());
            });

            $('#file1').scroll(function (event) {
                syncScroll(event);
            });
            $('#file2').scroll(function (event) {
                syncScroll(event);
            });

            $('.file .l').click(function () {
                updateCurrentDiff(this);
                updateLineInspector(this);
            })

            $('#btnFirst').click(firstDiff);
            $('#btnPrevious').click(previousDiff);
            $('#btnNext').click(nextDiff);
            $('#btnLast').click(lastDiff);
        }

        function syncScroll(e) {
            clearTimeout($scrollTimeout);

            if (!e) e = window.event;
            var $source = $(e.target);
            var $target = ($source.attr('id') == 'file1') ? $('#file2') : $('#file1')

            $target.off("scroll").scrollTop($source.scrollTop());
            $target.off("scroll").scrollLeft($source.scrollLeft());

            $scrollTimeout = setTimeout(function () {
                $target.scroll(syncScroll);
            }, 100, e);
        }

        function goto(diff) {
            if (diff > 0 && diff <= $diffs.length) {
                markCurrentDiff(diff);
                setLineInspector($diffs[diff].l[0]);

                if ($('.comparison .diffBar').css('display') != 'none') {
                    var block = $('.diff').eq(diff - 1);
                    var tableMidpoint = $('.file').height() / 2;

                    if (block.height() > $('.pane').height()) {
                        // Scroll to the top of the diff block
                        $('.file').scrollTop(block.position().top - $lineHeight);
                    } else {
                        // Scroll so that diff block is centered
                        var midpoint = block.position().top + (block.height() / 2);
                        $('.file').scrollTop(midpoint - tableMidpoint);
                    }
                } else {
                    // If diff bar's not shown, just scroll first diff line to top
                    var scrollPos = $('.d' + diff).first().position().top - $('.l').first().position().top;
                    if ($mode == 'directory') {
                        var headerHeight = $('.header').outerHeight(true);
                        scrollPos += headerHeight; // to account for header
                    }
                    $('.file').scrollTop(scrollPos);
                }
            }
        }

        function markCurrentDiff(diff) {
            $('#currentDiff').val(diff);

            $('.diff').removeClass('active');
            $('.comparison .diffs').each(function (i, diffBar) {
                $(diffBar).children().eq(diff - 1).addClass('active');
            });
        }

        function updateCurrentDiff(clickedDiv) {
            var lineNum = $(clickedDiv).parent().children('.l').index($(clickedDiv));
            markCurrentDiff(closestDiffToLine(lineNum));
        }

        function updateLineInspector(clickedDiv) {
            var lineNum = $(clickedDiv).parent().children('.l').index($(clickedDiv));
            setLineInspector(lineNum);
        }

        function setLineInspector(lineNum) {
            var leftLine = $($('#file1 .l').get(lineNum));
            var rightLine = $($('#file2 .l').get(lineNum));

            $('#inspectorLeftContent').html(leftLine.html())
                .attr('class', leftLine.attr('class'));
            $('#inspectorRightContent').html(rightLine.html())
                .attr('class', rightLine.attr('class'));

            if ($('.comparison .num').size() > 0) {
                var leftNum = $($('#file1 .num').get(lineNum));
                var rightNum = $($('#file2 .num').get(lineNum));
                var maxNumWidth = Math.max(leftNum.width(), rightNum.width());

                $('#inspector .left .num').html(leftNum.html())
                    .width(maxNumWidth);
                $('#inspector .right .num').html(rightNum.html())
                    .width(maxNumWidth);
            } else {
                $('#inspector .num').html('')
                    .css('width', 0).css('border', 0).css('padding', 0);
            }

            var maxWidth = Math.max(calcDivWidth(leftLine), calcDivWidth(rightLine));
            $('#inspectorLeftContent').width(maxWidth);
            $('#inspectorRightContent').width(maxWidth);
        }

        function calcDivWidth(divElement) {
            var width = 0;
            divElement.children().each(function () {
                var $span = $(this);
                width += $span.width();
            });
            return width;
        }

        function closestDiffToLine(num) {
            var closest = {
                diff: null,
                dist: Infinity
            };

            for (var i = 1; i < $diffs.length; i++) {
                if ($diffs[i].l[0] <= num && $diffs[i].l[1] >= num) {
                    closest = { diff: i, dist: 0 };
                } else {
                    var dist = ($diffs[i].l[0] <= num) ? (num - $diffs[i].l[1]) : ($diffs[i].l[0] - num);
                    if (dist <= closest.dist) {
                        closest = { diff: i, dist: dist };
                    }
                }
            }

            return closest.diff;
        }

        function currentDiff() {
            return parseInt($('#currentDiff').val());
        }

        function firstDiff() {
            goto(1);
        }

        function previousDiff() {
            var diff = currentDiff();
            if (diff > 1) {
                diff--;
            }
            goto(diff);
        }

        function nextDiff() {
            var diff = currentDiff();
            if (diff < ($diffs.length - 1)) {
                diff++;
            }
            goto(diff);
        }

        function lastDiff() {
            goto($diffs.length - 1);
        }
    </script>
</head>

<body>
    <div id="container" style="">
        <!-- $JS_ONLY_BEGIN$ -->
        <table id="navigation">
            <tr>
                <td class="button" id="tdBtnFirst"><button title="First Difference" id="btnFirst"></button></td>
                <td class="button"><button title="Previous Difference" id="btnPrevious"></button></td>
                <td class="button"><button title="Next Difference" id="btnNext"></button></td>
                <td class="button"><button title="Last Difference" id="btnLast"></button></td>
                <td>
                    <div id="diff-select">
                        <select id="currentDiff" size="1"></select>
                    </div>
                </td>
            </tr>
        </table>
        <!-- $JS_ONLY_END$ -->

        <div class="text comparison">
            <div id="pane1" class="pane" style="">
                <div id="title1" class="title" style="" title="https://raw.githubusercontent.com/alcueca/Staking/c6f58c002c48dabdcbed043d48de2e0c9dbbdd4e/src/ERC4626Rewards.sol">https://raw.githubusercontent.com/alcueca/Staking/c6f58c002c48dabdcbed043d48de2e0c9dbbdd4e/src/ERC4626Rewards.sol</div>
                <div id="file1" class="file" style=" ">
                    <table class="panes">
                        <tr>
                            <td class="diffBar" style="display: none;">
                                <div class="diffs"></div>
                            </td>
                            <td class="nums">
                                <div class="num">  1 </div>
<div class="num">  2 </div>
<div class="num">  3 </div>
<div class="num">  4 </div>
<div class="num">    </div>
<div class="num">  5 </div>
<div class="num">  6 </div>
<div class="num">  7 </div>
<div class="num">  8 </div>
<div class="num">  9 </div>
<div class="num"> 10 </div>
<div class="num"> 11 </div>
<div class="num"> 12 </div>
<div class="num"> 13 </div>
<div class="num"> 14 </div>
<div class="num"> 15 </div>
<div class="num"> 16 </div>
<div class="num"> 17 </div>
<div class="num"> 18 </div>
<div class="num"> 19 </div>
<div class="num"> 20 </div>
<div class="num"> 21 </div>
<div class="num"> 22 </div>
<div class="num"> 23 </div>
<div class="num"> 24 </div>
<div class="num"> 25 </div>
<div class="num"> 26 </div>
<div class="num"> 27 </div>
<div class="num"> 28 </div>
<div class="num"> 29 </div>
<div class="num"> 30 </div>
<div class="num"> 31 </div>
<div class="num"> 32 </div>
<div class="num"> 33 </div>
<div class="num"> 34 </div>
<div class="num"> 35 </div>
<div class="num"> 36 </div>
<div class="num"> 37 </div>
<div class="num"> 38 </div>
<div class="num"> 39 </div>
<div class="num"> 40 </div>
<div class="num"> 41 </div>
<div class="num"> 42 </div>
<div class="num"> 43 </div>
<div class="num"> 44 </div>
<div class="num"> 45 </div>
<div class="num"> 46 </div>
<div class="num"> 47 </div>
<div class="num"> 48 </div>
<div class="num"> 49 </div>
<div class="num"> 50 </div>
<div class="num"> 51 </div>
<div class="num"> 52 </div>
<div class="num"> 53 </div>
<div class="num"> 54 </div>
<div class="num"> 55 </div>
<div class="num"> 56 </div>
<div class="num"> 57 </div>
<div class="num"> 58 </div>
<div class="num"> 59 </div>
<div class="num"> 60 </div>
<div class="num"> 61 </div>
<div class="num"> 62 </div>
<div class="num"> 63 </div>
<div class="num"> 64 </div>
<div class="num"> 65 </div>
<div class="num"> 66 </div>
<div class="num"> 67 </div>
<div class="num"> 68 </div>
<div class="num"> 69 </div>
<div class="num"> 70 </div>
<div class="num"> 71 </div>
<div class="num"> 72 </div>
<div class="num"> 73 </div>
<div class="num"> 74 </div>
<div class="num"> 75 </div>
<div class="num"> 76 </div>
<div class="num"> 77 </div>
<div class="num"> 78 </div>
<div class="num"> 79 </div>
<div class="num"> 80 </div>
<div class="num"> 81 </div>
<div class="num"> 82 </div>
<div class="num"> 83 </div>
<div class="num"> 84 </div>
<div class="num"> 85 </div>
<div class="num"> 86 </div>
<div class="num"> 87 </div>
<div class="num"> 88 </div>
<div class="num"> 89 </div>
<div class="num"> 90 </div>
<div class="num"> 91 </div>
<div class="num"> 92 </div>
<div class="num"> 93 </div>
<div class="num"> 94 </div>
<div class="num"> 95 </div>
<div class="num"> 96 </div>
<div class="num"> 97 </div>
<div class="num"> 98 </div>
<div class="num"> 99 </div>
<div class="num">100 </div>
<div class="num">101 </div>
<div class="num">102 </div>
<div class="num">103 </div>
<div class="num">104 </div>
<div class="num">105 </div>
<div class="num">106 </div>
<div class="num">107 </div>
<div class="num">108 </div>
<div class="num">109 </div>
<div class="num">110 </div>
<div class="num">111 </div>
<div class="num">112 </div>
<div class="num">113 </div>
<div class="num">114 </div>
<div class="num">115 </div>
<div class="num">116 </div>
<div class="num">117 </div>
<div class="num">118 </div>
<div class="num">119 </div>
<div class="num">120 </div>
<div class="num">121 </div>
<div class="num">122 </div>
<div class="num">123 </div>
<div class="num">124 </div>
<div class="num">125 </div>
<div class="num">126 </div>
<div class="num">127 </div>
<div class="num">128 </div>
<div class="num">129 </div>
<div class="num">130 </div>
<div class="num">131 </div>
<div class="num">132 </div>
<div class="num">133 </div>
<div class="num">134 </div>
<div class="num">135 </div>
<div class="num">136 </div>
<div class="num">137 </div>
<div class="num">138 </div>
<div class="num">139 </div>
<div class="num">140 </div>
<div class="num">141 </div>
<div class="num">142 </div>
<div class="num">143 </div>
<div class="num">144 </div>
<div class="num">145 </div>
<div class="num">146 </div>
<div class="num">147 </div>
<div class="num">148 </div>
<div class="num">149 </div>
<div class="num">150 </div>
<div class="num">151 </div>
<div class="num">152 </div>
<div class="num">153 </div>
<div class="num">154 </div>
<div class="num">155 </div>
<div class="num">156 </div>
<div class="num">157 </div>
<div class="num">158 </div>
<div class="num">159 </div>
<div class="num">160 </div>
<div class="num">161 </div>
<div class="num">162 </div>
<div class="num">163 </div>
<div class="num">164 </div>
<div class="num">165 </div>
<div class="num">166 </div>
<div class="num">167 </div>
<div class="num">168 </div>
<div class="num">169 </div>
<div class="num">170 </div>
<div class="num">171 </div>
<div class="num">172 </div>
<div class="num">173 </div>
<div class="num">174 </div>
<div class="num">175 </div>
<div class="num">176 </div>
<div class="num">177 </div>
<div class="num">178 </div>
<div class="num">179 </div>
<div class="num">180 </div>
<div class="num">181 </div>
<div class="num">182 </div>
<div class="num">183 </div>
<div class="num">184 </div>
<div class="num">185 </div>
<div class="num">186 </div>
<div class="num">187 </div>
<div class="num">188 </div>
<div class="num">189 </div>
<div class="num">190 </div>
<div class="num">191 </div>

                            </td>
                            <td class="content">
                                <div class="l li"><span class="si">// SPDX-License-Identifier: AGPL-3.0-only</span></div>
<div class="l li"><span class="si">pragma solidity &gt;=0.8.0;</span></div>
<div class="l li"></div>
<div class="l lc d1"><span class="sc">import { </span><span class="sd">SafeTransferLib,</span><span class="sc"> ERC20</span><span class="sd">, ERC20Rewards</span><span class="sc"> } from &quot;./</span><span class="sc2">ERC20Rewards</span><span class="sc">.sol&quot;;</span></div>
<div class="l lc d1"></div>
<div class="l lc d1"><span class="sc">import { FixedPointMathLib } from &quot;../</span><span class="sd">lib/solmate/src/</span><span class="sc">utils/FixedPointMathLib.sol&quot;;</span></div>
<div class="l lg d1"></div>
<div class="l lg d1"></div>
<div class="l lc d1"><span class="sd">/// @notice ERC4626 tokenized Vault implementation with included rewards.</span></div>
<div class="l lc d1"><span class="sc">/// </span><span class="sc2">Taken from</span><span class="sc"> Solmate (https://github.com/transmissions11/solmate) </span><span class="sd">but inheriting from ERC20Rewards</span></div>
<div class="l lg d1"></div>
<div class="l lg d1"></div>
<div class="l lc d1"><span class="sc">abstract contract </span><span class="sc2">ERC4626Rewards</span><span class="sc"> is </span><span class="sc2">ERC20Rewards</span><span class="sc"> {</span></div>
<div class="l li"><span class="si">    using SafeTransferLib for ERC20;</span></div>
<div class="l li"><span class="si">    using FixedPointMathLib for uint256;</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                                 EVENTS</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    event Deposit(address indexed caller, address indexed owner, uint256 assets, uint256 shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    event Withdraw(</span></div>
<div class="l li"><span class="si">        address indexed caller,</span></div>
<div class="l li"><span class="si">        address indexed receiver,</span></div>
<div class="l li"><span class="si">        address indexed owner,</span></div>
<div class="l li"><span class="si">        uint256 assets,</span></div>
<div class="l li"><span class="si">        uint256 shares</span></div>
<div class="l li"><span class="si">    );</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                               IMMUTABLES</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    ERC20 public immutable asset;</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    constructor(</span></div>
<div class="l ld d2"><span class="sd">        address _owner,</span></div>
<div class="l ld d2"><span class="sd">        ERC20 _rewardsToken,</span></div>
<div class="l li"><span class="si">        ERC20 _asset,</span></div>
<div class="l li"><span class="si">        string memory _name,</span></div>
<div class="l li"><span class="si">        string memory _symbol</span></div>
<div class="l lc d3"><span class="sc">    ) </span><span class="sc2">ERC20Rewards</span><span class="sc">(</span><span class="sd">_owner, _rewardsToken,</span><span class="sc"> _name, _symbol, _asset.decimals()) {</span></div>
<div class="l li"><span class="si">        asset = _asset;</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                        DEPOSIT/WITHDRAWAL LOGIC</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function deposit(uint256 assets, address receiver) public virtual returns (uint256 shares) {</span></div>
<div class="l li"><span class="si">        // Check for rounding error since we round down in previewDeposit.</span></div>
<div class="l li"><span class="si">        require((shares = previewDeposit(assets)) != 0, &quot;ZERO_SHARES&quot;);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        // Need to transfer before minting or ERC777s could reenter.</span></div>
<div class="l li"><span class="si">        asset.safeTransferFrom(msg.sender, address(this), assets);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        _mint(receiver, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        emit Deposit(msg.sender, receiver, assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        afterDeposit(assets, shares);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function mint(uint256 shares, address receiver) public virtual returns (uint256 assets) {</span></div>
<div class="l li"><span class="si">        assets = previewMint(shares); // No need to check for rounding error, previewMint rounds up.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        // Need to transfer before minting or ERC777s could reenter.</span></div>
<div class="l li"><span class="si">        asset.safeTransferFrom(msg.sender, address(this), assets);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        _mint(receiver, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        emit Deposit(msg.sender, receiver, assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        afterDeposit(assets, shares);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function withdraw(</span></div>
<div class="l li"><span class="si">        uint256 assets,</span></div>
<div class="l li"><span class="si">        address receiver,</span></div>
<div class="l li"><span class="si">        address owner</span></div>
<div class="l li"><span class="si">    ) public virtual returns (uint256 shares) {</span></div>
<div class="l li"><span class="si">        shares = previewWithdraw(assets); // No need to check for rounding error, previewWithdraw rounds up.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        if (msg.sender != owner) {</span></div>
<div class="l li"><span class="si">            uint256 allowed = allowance[owner][msg.sender]; // Saves gas for limited approvals.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">            if (allowed != type(uint256).max) allowance[owner][msg.sender] = allowed - shares;</span></div>
<div class="l li"><span class="si">        }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        beforeWithdraw(assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        _burn(owner, shares);</span></div>
<div class="l li"></div>
<div class="l ld d4"><span class="sd">        if (balanceOf[owner] == 0) _claim(owner, receiver, currentUserRewards(owner));</span></div>
<div class="l lg"></div>
<div class="l li"><span class="si">        emit Withdraw(msg.sender, receiver, owner, assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        asset.safeTransfer(receiver, assets);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function redeem(</span></div>
<div class="l li"><span class="si">        uint256 shares,</span></div>
<div class="l li"><span class="si">        address receiver,</span></div>
<div class="l li"><span class="si">        address owner</span></div>
<div class="l li"><span class="si">    ) public virtual returns (uint256 assets) {</span></div>
<div class="l li"><span class="si">        if (msg.sender != owner) {</span></div>
<div class="l li"><span class="si">            uint256 allowed = allowance[owner][msg.sender]; // Saves gas for limited approvals.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">            if (allowed != type(uint256).max) allowance[owner][msg.sender] = allowed - shares;</span></div>
<div class="l li"><span class="si">        }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        // Check for rounding error since we round down in previewRedeem.</span></div>
<div class="l li"><span class="si">        require((assets = previewRedeem(shares)) != 0, &quot;ZERO_ASSETS&quot;);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        beforeWithdraw(assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        _burn(owner, shares);</span></div>
<div class="l li"></div>
<div class="l ld d5"><span class="sd">        if (balanceOf[owner] == 0) _claim(owner, receiver, currentUserRewards(owner));</span></div>
<div class="l lg"></div>
<div class="l li"><span class="si">        emit Withdraw(msg.sender, receiver, owner, assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        asset.safeTransfer(receiver, assets);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                            ACCOUNTING LOGIC</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function totalAssets() public view virtual returns (uint256);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function convertToShares(uint256 assets) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        return supply == 0 ? assets : assets.mulDivDown(supply, totalAssets());</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function convertToAssets(uint256 shares) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        return supply == 0 ? shares : shares.mulDivDown(totalAssets(), supply);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function previewDeposit(uint256 assets) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return convertToShares(assets);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function previewMint(uint256 shares) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        return supply == 0 ? shares : shares.mulDivUp(totalAssets(), supply);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function previewWithdraw(uint256 assets) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        return supply == 0 ? assets : assets.mulDivUp(supply, totalAssets());</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function previewRedeem(uint256 shares) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return convertToAssets(shares);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                     DEPOSIT/WITHDRAWAL LIMIT LOGIC</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function maxDeposit(address) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return type(uint256).max;</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function maxMint(address) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return type(uint256).max;</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function maxWithdraw(address owner) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return convertToAssets(balanceOf[owner]);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function maxRedeem(address owner) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return balanceOf[owner];</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                          INTERNAL HOOKS LOGIC</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function beforeWithdraw(uint256 assets, uint256 shares) internal virtual {}</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function afterDeposit(uint256 assets, uint256 shares) internal virtual {}</span></div>
<div class="l li"><span class="si">}</span></div>

                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div id="pane2" class="pane" style="">
                <div id="title2" class="title" style="" title="https://raw.githubusercontent.com/transmissions11/solmate/bfc9c25865a274a7827fea5abf6e4fb64fc64e6c/src/mixins/ERC4626.sol">https://raw.githubusercontent.com/transmissions11/solmate/bfc9c25865a274a7827fea5abf6e4fb64fc64e6c/src/mixins/ERC4626.sol</div>
                <div id="file2" class="file" style=" ">
                    <table class="panes">
                        <tr>
                            <td class="diffBar" style="display: none;">
                                <div class="diffs"></div>
                            </td>
                            <td class="nums">
                                <div class="num">  1 </div>
<div class="num">  2 </div>
<div class="num">  3 </div>
<div class="num">  4 </div>
<div class="num">  5 </div>
<div class="num">  6 </div>
<div class="num">  7 </div>
<div class="num">  8 </div>
<div class="num">    </div>
<div class="num">  9 </div>
<div class="num">    </div>
<div class="num">    </div>
<div class="num"> 10 </div>
<div class="num"> 11 </div>
<div class="num"> 12 </div>
<div class="num"> 13 </div>
<div class="num"> 14 </div>
<div class="num"> 15 </div>
<div class="num"> 16 </div>
<div class="num"> 17 </div>
<div class="num"> 18 </div>
<div class="num"> 19 </div>
<div class="num"> 20 </div>
<div class="num"> 21 </div>
<div class="num"> 22 </div>
<div class="num"> 23 </div>
<div class="num"> 24 </div>
<div class="num"> 25 </div>
<div class="num"> 26 </div>
<div class="num"> 27 </div>
<div class="num"> 28 </div>
<div class="num"> 29 </div>
<div class="num"> 30 </div>
<div class="num"> 31 </div>
<div class="num"> 32 </div>
<div class="num"> 33 </div>
<div class="num"> 34 </div>
<div class="num">    </div>
<div class="num">    </div>
<div class="num"> 35 </div>
<div class="num"> 36 </div>
<div class="num"> 37 </div>
<div class="num"> 38 </div>
<div class="num"> 39 </div>
<div class="num"> 40 </div>
<div class="num"> 41 </div>
<div class="num"> 42 </div>
<div class="num"> 43 </div>
<div class="num"> 44 </div>
<div class="num"> 45 </div>
<div class="num"> 46 </div>
<div class="num"> 47 </div>
<div class="num"> 48 </div>
<div class="num"> 49 </div>
<div class="num"> 50 </div>
<div class="num"> 51 </div>
<div class="num"> 52 </div>
<div class="num"> 53 </div>
<div class="num"> 54 </div>
<div class="num"> 55 </div>
<div class="num"> 56 </div>
<div class="num"> 57 </div>
<div class="num"> 58 </div>
<div class="num"> 59 </div>
<div class="num"> 60 </div>
<div class="num"> 61 </div>
<div class="num"> 62 </div>
<div class="num"> 63 </div>
<div class="num"> 64 </div>
<div class="num"> 65 </div>
<div class="num"> 66 </div>
<div class="num"> 67 </div>
<div class="num"> 68 </div>
<div class="num"> 69 </div>
<div class="num"> 70 </div>
<div class="num"> 71 </div>
<div class="num"> 72 </div>
<div class="num"> 73 </div>
<div class="num"> 74 </div>
<div class="num"> 75 </div>
<div class="num"> 76 </div>
<div class="num"> 77 </div>
<div class="num"> 78 </div>
<div class="num"> 79 </div>
<div class="num"> 80 </div>
<div class="num"> 81 </div>
<div class="num"> 82 </div>
<div class="num"> 83 </div>
<div class="num"> 84 </div>
<div class="num"> 85 </div>
<div class="num"> 86 </div>
<div class="num"> 87 </div>
<div class="num"> 88 </div>
<div class="num"> 89 </div>
<div class="num">    </div>
<div class="num">    </div>
<div class="num"> 90 </div>
<div class="num"> 91 </div>
<div class="num"> 92 </div>
<div class="num"> 93 </div>
<div class="num"> 94 </div>
<div class="num"> 95 </div>
<div class="num"> 96 </div>
<div class="num"> 97 </div>
<div class="num"> 98 </div>
<div class="num"> 99 </div>
<div class="num">100 </div>
<div class="num">101 </div>
<div class="num">102 </div>
<div class="num">103 </div>
<div class="num">104 </div>
<div class="num">105 </div>
<div class="num">106 </div>
<div class="num">107 </div>
<div class="num">108 </div>
<div class="num">109 </div>
<div class="num">110 </div>
<div class="num">111 </div>
<div class="num">112 </div>
<div class="num">    </div>
<div class="num">    </div>
<div class="num">113 </div>
<div class="num">114 </div>
<div class="num">115 </div>
<div class="num">116 </div>
<div class="num">117 </div>
<div class="num">118 </div>
<div class="num">119 </div>
<div class="num">120 </div>
<div class="num">121 </div>
<div class="num">122 </div>
<div class="num">123 </div>
<div class="num">124 </div>
<div class="num">125 </div>
<div class="num">126 </div>
<div class="num">127 </div>
<div class="num">128 </div>
<div class="num">129 </div>
<div class="num">130 </div>
<div class="num">131 </div>
<div class="num">132 </div>
<div class="num">133 </div>
<div class="num">134 </div>
<div class="num">135 </div>
<div class="num">136 </div>
<div class="num">137 </div>
<div class="num">138 </div>
<div class="num">139 </div>
<div class="num">140 </div>
<div class="num">141 </div>
<div class="num">142 </div>
<div class="num">143 </div>
<div class="num">144 </div>
<div class="num">145 </div>
<div class="num">146 </div>
<div class="num">147 </div>
<div class="num">148 </div>
<div class="num">149 </div>
<div class="num">150 </div>
<div class="num">151 </div>
<div class="num">152 </div>
<div class="num">153 </div>
<div class="num">154 </div>
<div class="num">155 </div>
<div class="num">156 </div>
<div class="num">157 </div>
<div class="num">158 </div>
<div class="num">159 </div>
<div class="num">160 </div>
<div class="num">161 </div>
<div class="num">162 </div>
<div class="num">163 </div>
<div class="num">164 </div>
<div class="num">165 </div>
<div class="num">166 </div>
<div class="num">167 </div>
<div class="num">168 </div>
<div class="num">169 </div>
<div class="num">170 </div>
<div class="num">171 </div>
<div class="num">172 </div>
<div class="num">173 </div>
<div class="num">174 </div>
<div class="num">175 </div>
<div class="num">176 </div>
<div class="num">177 </div>
<div class="num">178 </div>
<div class="num">179 </div>
<div class="num">180 </div>
<div class="num">181 </div>
<div class="num">182 </div>
<div class="num">183 </div>
<div class="num">184 </div>

                            </td>
                            <td class="content">
                                <div class="l li"><span class="si">// SPDX-License-Identifier: AGPL-3.0-only</span></div>
<div class="l li"><span class="si">pragma solidity &gt;=0.8.0;</span></div>
<div class="l li"></div>
<div class="l lc d1"><span class="sc">import {ERC20} from &quot;.</span><span class="sa">./tokens</span><span class="sc">/</span><span class="sc2">ERC20</span><span class="sc">.sol&quot;;</span></div>
<div class="l lc d1"><span class="sa">import {SafeTransferLib} from &quot;../utils/SafeTransferLib.sol&quot;;</span></div>
<div class="l lc d1"><span class="sc">import {FixedPointMathLib} from &quot;../utils/FixedPointMathLib.sol&quot;;</span></div>
<div class="l lg d1"></div>
<div class="l lc d1"><span class="sa">/// @notice Minimal ERC4626 tokenized Vault implementation.</span></div>
<div class="l lc d1"></div>
<div class="l lc d1"><span class="sc">/// </span><span class="sc2">@author</span><span class="sc"> Solmate (https://github.com/transmissions11/solmate</span><span class="sa">/blob/main/src/mixins/ERC4626.sol</span><span class="sc">)</span></div>
<div class="l lc d1"></div>
<div class="l lc d1"></div>
<div class="l lc d1"><span class="sc">abstract contract </span><span class="sc2">ERC4626</span><span class="sc"> is </span><span class="sc2">ERC20</span><span class="sc"> {</span></div>
<div class="l li"><span class="si">    using SafeTransferLib for ERC20;</span></div>
<div class="l li"><span class="si">    using FixedPointMathLib for uint256;</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                                 EVENTS</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    event Deposit(address indexed caller, address indexed owner, uint256 assets, uint256 shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    event Withdraw(</span></div>
<div class="l li"><span class="si">        address indexed caller,</span></div>
<div class="l li"><span class="si">        address indexed receiver,</span></div>
<div class="l li"><span class="si">        address indexed owner,</span></div>
<div class="l li"><span class="si">        uint256 assets,</span></div>
<div class="l li"><span class="si">        uint256 shares</span></div>
<div class="l li"><span class="si">    );</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                               IMMUTABLES</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    ERC20 public immutable asset;</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    constructor(</span></div>
<div class="l ld d2"></div>
<div class="l ld d2"></div>
<div class="l li"><span class="si">        ERC20 _asset,</span></div>
<div class="l li"><span class="si">        string memory _name,</span></div>
<div class="l li"><span class="si">        string memory _symbol</span></div>
<div class="l lc d3"><span class="sc">    ) </span><span class="sc2">ERC20</span><span class="sc">(_name, _symbol, _asset.decimals()) {</span></div>
<div class="l li"><span class="si">        asset = _asset;</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                        DEPOSIT/WITHDRAWAL LOGIC</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function deposit(uint256 assets, address receiver) public virtual returns (uint256 shares) {</span></div>
<div class="l li"><span class="si">        // Check for rounding error since we round down in previewDeposit.</span></div>
<div class="l li"><span class="si">        require((shares = previewDeposit(assets)) != 0, &quot;ZERO_SHARES&quot;);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        // Need to transfer before minting or ERC777s could reenter.</span></div>
<div class="l li"><span class="si">        asset.safeTransferFrom(msg.sender, address(this), assets);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        _mint(receiver, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        emit Deposit(msg.sender, receiver, assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        afterDeposit(assets, shares);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function mint(uint256 shares, address receiver) public virtual returns (uint256 assets) {</span></div>
<div class="l li"><span class="si">        assets = previewMint(shares); // No need to check for rounding error, previewMint rounds up.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        // Need to transfer before minting or ERC777s could reenter.</span></div>
<div class="l li"><span class="si">        asset.safeTransferFrom(msg.sender, address(this), assets);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        _mint(receiver, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        emit Deposit(msg.sender, receiver, assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        afterDeposit(assets, shares);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function withdraw(</span></div>
<div class="l li"><span class="si">        uint256 assets,</span></div>
<div class="l li"><span class="si">        address receiver,</span></div>
<div class="l li"><span class="si">        address owner</span></div>
<div class="l li"><span class="si">    ) public virtual returns (uint256 shares) {</span></div>
<div class="l li"><span class="si">        shares = previewWithdraw(assets); // No need to check for rounding error, previewWithdraw rounds up.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        if (msg.sender != owner) {</span></div>
<div class="l li"><span class="si">            uint256 allowed = allowance[owner][msg.sender]; // Saves gas for limited approvals.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">            if (allowed != type(uint256).max) allowance[owner][msg.sender] = allowed - shares;</span></div>
<div class="l li"><span class="si">        }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        beforeWithdraw(assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        _burn(owner, shares);</span></div>
<div class="l li"></div>
<div class="l ld d4"></div>
<div class="l li"></div>
<div class="l li"><span class="si">        emit Withdraw(msg.sender, receiver, owner, assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        asset.safeTransfer(receiver, assets);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function redeem(</span></div>
<div class="l li"><span class="si">        uint256 shares,</span></div>
<div class="l li"><span class="si">        address receiver,</span></div>
<div class="l li"><span class="si">        address owner</span></div>
<div class="l li"><span class="si">    ) public virtual returns (uint256 assets) {</span></div>
<div class="l li"><span class="si">        if (msg.sender != owner) {</span></div>
<div class="l li"><span class="si">            uint256 allowed = allowance[owner][msg.sender]; // Saves gas for limited approvals.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">            if (allowed != type(uint256).max) allowance[owner][msg.sender] = allowed - shares;</span></div>
<div class="l li"><span class="si">        }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        // Check for rounding error since we round down in previewRedeem.</span></div>
<div class="l li"><span class="si">        require((assets = previewRedeem(shares)) != 0, &quot;ZERO_ASSETS&quot;);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        beforeWithdraw(assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        _burn(owner, shares);</span></div>
<div class="l li"></div>
<div class="l ld d5"></div>
<div class="l li"></div>
<div class="l li"><span class="si">        emit Withdraw(msg.sender, receiver, owner, assets, shares);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        asset.safeTransfer(receiver, assets);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                            ACCOUNTING LOGIC</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function totalAssets() public view virtual returns (uint256);</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function convertToShares(uint256 assets) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        return supply == 0 ? assets : assets.mulDivDown(supply, totalAssets());</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function convertToAssets(uint256 shares) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        return supply == 0 ? shares : shares.mulDivDown(totalAssets(), supply);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function previewDeposit(uint256 assets) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return convertToShares(assets);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function previewMint(uint256 shares) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        return supply == 0 ? shares : shares.mulDivUp(totalAssets(), supply);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function previewWithdraw(uint256 assets) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">        return supply == 0 ? assets : assets.mulDivUp(supply, totalAssets());</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function previewRedeem(uint256 shares) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return convertToAssets(shares);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                     DEPOSIT/WITHDRAWAL LIMIT LOGIC</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function maxDeposit(address) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return type(uint256).max;</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function maxMint(address) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return type(uint256).max;</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function maxWithdraw(address owner) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return convertToAssets(balanceOf[owner]);</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function maxRedeem(address owner) public view virtual returns (uint256) {</span></div>
<div class="l li"><span class="si">        return balanceOf[owner];</span></div>
<div class="l li"><span class="si">    }</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    /*//////////////////////////////////////////////////////////////</span></div>
<div class="l li"><span class="si">                          INTERNAL HOOKS LOGIC</span></div>
<div class="l li"><span class="si">    //////////////////////////////////////////////////////////////*/</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function beforeWithdraw(uint256 assets, uint256 shares) internal virtual {}</span></div>
<div class="l li"></div>
<div class="l li"><span class="si">    function afterDeposit(uint256 assets, uint256 shares) internal virtual {}</span></div>
<div class="l li"><span class="si">}</span></div>
<div class="l li"></div>

                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div id="inspector" style="display: none;">
            <div class="left line">
                <table id="inspectorLeft" class="inspectorLine">
                    <tr>
                        <td class="diffBar" style="display: none;"></td>
                        <td class="nums">
                            <div class="num"></div>
                        </td>
                        <td class="content">
                            <div id="inspectorLeftContent"></div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="right line">
                <table id="inspectorRight" class="inspectorLine">
                    <tr>
                        <td class="diffBar" style="display: none;"></td>
                        <td class="nums">
                            <div class="num"></div>
                        </td>
                        <td class="content">
                            <div id="inspectorRightContent"></div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <div id="legend">
            <div id="numDiffs"><b>5 differences</b>: 14 lines, 15 inline differences in 10 changed lines</div><div id="colors"><div class="sa" title="Added lines: 0, inline additions in changed lines: 4">Added(0,4)</div><div class="sd" title="Deleted lines: 4, inline deletions in changed lines: 6">Deleted(4,6)</div><div class="sc" title="Changed lines: 10">Changed(10)</div><div class="sc2" title="Inline changes in changed lines: 5">Changed in changed(5)</div><div class="sig" title="Ignored lines and line parts">Ignored</div></div>
        </div>

        <div id="generated_by">
            Generated on June 26, 2023, 2:03 PM by <a href="http://www.prestosoft.com/edp_examdiffpro.asp?ref=diffreport" target="_blank">ExamDiff Pro</a> 14.0.0.7.
        </div>
    </div>
</body>

</html>
